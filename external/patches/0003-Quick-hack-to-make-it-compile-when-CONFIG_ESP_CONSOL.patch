From ef07bb1d76850640a7b32342b635657122607e15 Mon Sep 17 00:00:00 2001
From: Ricardo Quesada <ricardoq@google.com>
Date: Tue, 20 Feb 2024 07:16:39 -0300
Subject: [PATCH] Quick hack to make it compile when CONFIG_ESP_CONSOLE is
 disabled

---
 port/esp32/components/btstack/btstack_stdio_esp32.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/port/esp32/components/btstack/btstack_stdio_esp32.c b/port/esp32/components/btstack/btstack_stdio_esp32.c
index a26402a2f..900fba5f2 100644
--- a/port/esp32/components/btstack/btstack_stdio_esp32.c
+++ b/port/esp32/components/btstack/btstack_stdio_esp32.c
@@ -147,7 +147,12 @@ void btstack_stdio_init() {
     fflush(stdout);
     fsync(fileno(stdout));
 
+#ifdef CONFIG_ESP_CONSOLE_UART_NONE
+    int baud_rate = 9600;
+#else
     int baud_rate = CONFIG_ESP_CONSOLE_UART_BAUDRATE;
+#endif
+
 #if SOC_UART_SUPPORT_REF_TICK
     uart_sclk_t clk_source = UART_SCLK_REF_TICK;
     // REF_TICK clock can't provide a high baudrate
-- 
2.44.0.rc0.258.g7320e95886-goog

